
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ECMAScript 6 - Default, Rest, and Spread Arguments - David Beveridge</title>
  <meta name="author" content="David Beveridge">

  
  <meta name="description" content="Ever wanted a default value for an arugment? Or the ability to work with
variable numbers of arguments more easily? Ever written code like this? 1
2 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://davidbeveridge.net/blog/2014/08/01/ecmascript-6-default-rest-spread-params/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="David Beveridge" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner" class="normal">
    <hgroup>
  <h1><a href="/">David Beveridge</a></h1>
  
    <h2>Software Artisan</h2>
  
</hgroup>


    <nav role="navigation">
<div id="navbar">
  <ul class="main-navigation" id="navbar">
    <li><a href="/blog/">Blog</a></li>
    <li><a href="/resume/">Résumé/CV</a></li>
    <li><a href="https://github.com/davidjbeveridge" target="_blank">Github</a></li>
  </ul>
  <a href="#navbar" class="menu-toggle on">[+]</a>
  <a href="#navbar-off" class="menu-toggle off">[-]</a>
</div>

</nav>
  </header>
  <div id="main">
    <div id="content">
      <div>
<article class="entry" role="article">
  
  <header>
    
      <h1 class="entry-title">ECMAScript 6 - Default, Rest, and Spread Arguments</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-01T07:00:00-06:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2014</span></span> <span class='time'>7:00 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Ever wanted a default value for an arugment? Or the ability to work with
variable numbers of arguments more easily?  Ever written code like this?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">bar</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">||</span> <span class="s1">&#39;default value&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">theRest</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Perhaps you’re familiar with <a href="http://coffeescript.org/#splats">CoffeeScript’s splat arguments</a>
(<code>...</code>); or, if you’ve ever used Ruby, you’ll be familiar with
<a href="http://pivotallabs.com/ruby-pearls-vol-1-the-splat/">the Ruby splat operator</a>.</p>

<p>Maybe you’ve needed to use an array as an argument list? Ever done this?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
</span><span class="line"><span class="nx">doSomethingWithArgs</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The days of using <code>[].slice.call</code> and <code>fn.apply(null, args)</code> are over!
Finally, JavaScript is introducing a splat-like operator!</strong>  Say hello to
default, rest, and spread arguments!</p>

<!--more-->
<p>## Default Arguments</p>

<p>Taking default arguments is now as simple as</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="o">=</span><span class="s1">&#39;default value&#39;</span><span class="p">)</span> <span class="p">{}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Pretty neat, huh?</p>

<h2 id="rest-arguments">Rest Arguments</h2>

<p>You need to get the tail of your argument list? Just use <code>...</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="p">...</span><span class="nx">bars</span><span class="p">)</span> <span class="p">{}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="spread-arguments">Spread Arguments</h2>

<p>If you’ve ever needed to apply an Array as a list of arguments, you can now do
it like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">args</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
</span><span class="line"><span class="nx">doSomethingWithArgs</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Spread arguments should still work with default and rest arguments, as well as
argument destructuring.  Support for this is a little spotty, though.  The
following example worked in FireFox v31.0; Traceur validated the code, but
failed to execute it.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">familyInfo</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">spouse</span><span class="o">=</span><span class="s2">&quot;Lucy&quot;</span><span class="p">,</span> <span class="p">...</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">out</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;My name is &quot;</span><span class="o">+</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="k">if</span><span class="p">(</span><span class="nx">spouse</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">out</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;  I&#39;m married to &quot;</span><span class="o">+</span><span class="nx">spouse</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">if</span><span class="p">(</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">out</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;  My children are &quot;</span><span class="o">+</span><span class="nx">children</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">dependents</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Lucy&quot;</span><span class="p">,</span> <span class="s2">&quot;Little Ricky&quot;</span><span class="p">];</span>
</span><span class="line">
</span><span class="line"><span class="nx">familyInfo</span><span class="p">(</span><span class="s2">&quot;Ricky&quot;</span><span class="p">);</span>
</span><span class="line"><span class="c1">// =&gt; &quot;My name is Ricky.  I&#39;m married to Lucy.&quot;</span>
</span><span class="line">
</span><span class="line"><span class="nx">familyInfo</span><span class="p">(</span><span class="s2">&quot;Ricky&quot;</span><span class="p">,</span> <span class="p">...</span><span class="nx">dependents</span><span class="p">);</span>
</span><span class="line"><span class="c1">// =&gt; &quot;My name is Ricky.  I&#39;m married to Lucy.  My children are Little Ricky.&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="experiments-with-defaults-and-rest-params">Experiments with defaults and rest params</h2>

<p>So, we saw an example above where default and splat played nice (at least in
FireFox); here’s one that doesn’t work:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">badArgsTest</span><span class="p">(...</span><span class="nx">args</span><span class="p">,</span> <span class="nx">other</span><span class="p">)</span> <span class="p">{}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// FireFox throws: &quot;SyntaxError: parameter after rest parameter&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Ok.  So, rest parameters come last.  Always.</p>

<p>Try this one:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="p">(</span><span class="kd">function</span><span class="p">(...</span><span class="nx">args</span><span class="o">=</span><span class="p">[])</span> <span class="p">{})</span>
</span><span class="line">
</span><span class="line"><span class="c1">// FireFox throws: &quot;SyntaxError: rest parameter may not have a default&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Ok.  So, don’t do that.</p>

<h3 id="default-argument-order">Default argument order</h3>

<p>Guess what?  You can use default arguments in pretty much any order (as long as
they come before the rest argument).  This one really stumped me at first, but I
got it: use <code>undefined</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">testDefaults</span><span class="p">(</span><span class="nx">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">bang</span><span class="o">=</span><span class="s1">&#39;whizz&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="p">[</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">bang</span><span class="p">];</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">testDefaults</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="s1">&#39;whir&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">);</span> <span class="c1">// =&gt; [&#39;bar&#39;, &#39;whir&#39;, &#39;whizz&#39;]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>I also tried this with some falsy values; they seem to actually pass through:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">testDefaults</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s1">&#39;whir&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span> <span class="c1">// =&gt; [null, &#39;whir&#39;, null]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="the-wrap-up">The wrap up</h2>

<ul>
  <li>Defaults: <code>(someArg = 'default', other = 4) =&gt; {}</code>; <code>someArg</code> and <code>other</code> can
be overwritten, but will carry default values.</li>
  <li>Pass <code>undefined</code> if you want the default value for a positional argument</li>
  <li>Rest: <code>(arg1, ...args) =&gt; {}</code>; <code>args</code> will be an <code>Array</code> of everything after
<code>arg1</code>.</li>
  <li>Use rest arguments as the last argument in your function</li>
  <li>Spread: <code>var args = [1,2,3]; someFunction(...args);</code> works great, no more
using <code>apply</code> for this trick</li>
</ul>

<p>Next time, I’ll take a look at argument destructuring, which is a great
complement to rest, default, and spread arguments.</p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">David Beveridge</span></span>

      




<time class='entry-date' datetime='2014-08-01T07:00:00-06:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2014</span></span> <span class='time'>7:00 am</span></time>
      


    </p>
    
      

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/07/28/ecmascript-6-arrow-functions/" title="Previous Post: ECMAScript 6 - Arrow Functions">&laquo; ECMAScript 6 - Arrow Functions</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/09/29/effective-code-reviews/" title="Next Post: Effective Code Reviews">Effective Code Reviews &raquo;</a>
      
    </p>
  </footer>
</article>
</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/29/effective-code-reviews/">Effective Code Reviews</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/01/ecmascript-6-default-rest-spread-params/">ECMAScript 6 - Default, Rest, and Spread Arguments</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/28/ecmascript-6-arrow-functions/">ECMAScript 6 - Arrow Functions</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - David Beveridge -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  


</body>
</html>
